<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog 1 ‚Äì Getting Started with Go</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<nav>
    <div class="title"><a href="index.html" style="text-decoration:none;color:var(--text)">My Go Journeys</a></div>
    <button id="themeToggle">üåô Dark Mode</button>
</nav>

<h1>Getting Started with Go: Building a RESTful API Server with PostgreSQL Database Integration - A Beginner's Journey</h1>

<p><strong>May 30, 2025 10:56 PM</strong></p>

<p>I don‚Äôt have any prior experience with Go. Though I did some API development which was pretty basic. I am proficient in OOP and have little to no experience with functional programming language. So, WHY AM I DOING IT?</p>

<p>Answer is to push myself out of my comfort zone.</p>

<p>First of all I got to find out that Go was created by the same creator of B and C language. I do have some prior experience with C which may help me understand Go. I went through Go‚Äôs documentation and some tutorials. And I believe I got a good grasp of some fundamentals like functions (higher order functions & first class functions), closures and how structure is similar to classes but without methods. Here we can add functions to a structure just like C.</p>

<p>So initially I want to develop a Go server that gives a response to an HTTP request.</p>

<h2>Initial Setup</h2>

<p>I created a folder named <code>backend</code> and a file named <code>main.go</code>.</p>

<pre><code>package main

import "fmt"

func main() {

}

func init() {
    fmt.Println("Initalizing server..")
}
</code></pre>

<h2>Discovering Go Docs</h2>

<pre><code>go doc &lt;any standard library name&gt;
</code></pre>

<p>This command opens documentation for that library.</p>

<pre><code>go doc net
go doc net/http
</code></pre>

<p>I discovered <code>ListenAndServe</code> and <code>HandleFunc</code> and updated my <code>main.go</code>:</p>

<pre><code>package main

import (
    "fmt"
    "log"
    "net/http"
)

var port string = ":8080"

func main() {

    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        fmt.Fprintf(w, "Hello, world")
    })

    log.Fatal(http.ListenAndServe(port, nil))
}

func init() {
    fmt.Println("Initalizing server..")
    fmt.Println("serving at : http://localhost", port)
}
</code></pre>

<p>I wondered why this line uses <code>nil</code>:</p>

<pre><code>log.Fatal(http.ListenAndServe(port, nil))
</code></pre>

<p>According to docs: passing <code>nil</code> means using the default <code>ServeMux</code>.</p>

<h2>Switching to Custom ServeMux</h2>

<pre><code>mux := http.NewServeMux()
mux.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, "Hello, world")
})

log.Fatal(http.ListenAndServe(port, mux))
</code></pre>

<h2>Making the Route RESTful</h2>

<pre><code>func rootRequestHandler(w http.ResponseWriter, r *http.Request) {
    switch r.Method {
    case http.MethodGet:
        handleGET(w)
    case http.MethodPost:
        handlePOST(w)
    }
}

func handleGET(w http.ResponseWriter) {
    fmt.Fprintf(w, "Hello, world from get method")
}

func handlePOST(w http.ResponseWriter) {
    fmt.Fprintf(w, "Hello, world from POST")
}
</code></pre>

<p>And updating <code>main()</code>:</p>

<pre><code>mux.HandleFunc("/", rootRequestHandler)
</code></pre>

<h2>Adding PostgreSQL</h2>

<p>After setting up PostgreSQL locally, I connected Go with the database:</p>

<pre><code>package main

import (
    "database/sql"
    "fmt"
    "log"
    "net/http"

    _ "github.com/lib/pq"
)

var port string = ":8080"
var db *sql.DB
...
</code></pre>

<p>I used a helper function <code>initalizeDB()</code> to create the DB connection and stored the pointer in a global variable.</p>

<p>Not ideal yet since I don‚Äôt check for nil pointers properly ‚Äî but I will refine this later.</p>

<h2>Break Time</h2>

<p><em>May 30, 2025 1:27 AM ‚Äî taking a break to enjoy the monsoon rain.</em></p>

<div id="blogNav" style="margin-top:40px; display:flex; justify-content:space-between;"></div>


<script>
    const toggleBtn = document.getElementById("themeToggle");
    const html = document.documentElement;

    toggleBtn.addEventListener("click", () => {
        const current = html.getAttribute("data-theme");
        const next = current === "light" ? "dark" : "light";
        html.setAttribute("data-theme", next);
        toggleBtn.textContent = next === "light" ? "üåô Dark Mode" : "‚òÄÔ∏è Light Mode";
    });
</script>

<script>
const username = "momin-mostafa";   // YOUR GitHub username
const repo = "blog-go-novice";      // YOUR repo name

async function buildNavigation() {
    const url = `https://api.github.com/repos/${username}/${repo}/contents/`;
    const res = await fetch(url);
    const files = await res.json();

    // Filter blog files: blog_1.html, blog_2.html, ...
    let blogs = files
        .filter(f => /^blog_\d+\.html$/.test(f.name))
        .map(f => f.name);

    // Sort numerically (1, 2, 3 ...)
    blogs.sort((a, b) => {
        const n1 = parseInt(a.match(/\d+/)[0]);
        const n2 = parseInt(b.match(/\d+/)[0]);
        return n1 - n2;
    });

    const current = window.location.pathname.split("/").pop();
    const index = blogs.indexOf(current);

    const blogNav = document.getElementById("blogNav");

    let html = "";

    // Previous blog
    if (index > 0) {
        html += `<button onclick="location.href='${blogs[index - 1]}'" 
                 style="padding:10px 16px; border-radius:8px; background:var(--card-bg); color:var(--text); border:none; cursor:pointer;">
                 ‚¨Ö Previous
                 </button>`;
    } else {
        html += `<button onclick="location.href='index.html'" 
                 style="padding:10px 16px; border-radius:8px; background:var(--card-bg); color:var(--text); border:none; cursor:pointer;">
                 üè° Home
                 </button>`; // navigates to home
    }

    // Next blog
    if (index < blogs.length - 1) {
        html += `<button onclick="location.href='${blogs[index + 1]}'" 
                 style="padding:10px 16px; border-radius:8px; background:var(--card-bg); color:var(--text); border:none; cursor:pointer;">
                 Next ‚ûú
                 </button>`;
    } else {
        html += `<button onclick="location.href='index.html'" 
                 style="padding:10px 16px; border-radius:8px; background:var(--card-bg); color:var(--text); border:none; cursor:pointer;">
                 üè° Home
                 </button>`; // navigates to home
    }

    blogNav.innerHTML = html;
}

buildNavigation();
</script>


</body>
</html>
